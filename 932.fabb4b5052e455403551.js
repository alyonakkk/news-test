"use strict";(self.webpackChunknews=self.webpackChunknews||[]).push([[932],{7932:(e,n,t)=>{t.r(n),t.d(n,{default:()=>re});var r=t(5893),o=t(7294),a=t(5312),l=t(3048),i=t(9924),s=t(3146),c=function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c.apply(this,arguments)};const u=(0,o.memo)((function(e){var n=e.filter,t=e.isActive,o=e.onChange;return(0,r.jsx)("button",c({className:"btn btn-sm ".concat(t?"btn-primary":""),onClick:function(){o(n.value)}},{children:n.title}))}));var f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},f.apply(this,arguments)};const p=function(){var e=(0,i.TL)(),n=(0,i.CG)(a.$E),t=(0,i.CG)(a.Mq),c=(0,i.CG)(a.TM),p=(0,o.useCallback)((function(n){e((0,a.Tv)(n))}),[]),d=n.map((function(e){var n=e.value===t;return(0,r.jsx)("li",{children:(0,r.jsx)(u,{filter:e,isActive:n,onChange:p})},e.id)}));return(0,r.jsx)(r.Fragment,{children:c===l.J.PENDING?(0,r.jsx)(s.a,{}):(0,r.jsx)("ul",f({className:"flex flex-wrap justify-center gap-[8px]"},{children:d}))})};var d,v,h=t(5870),b=t(2305),g=t(7536),x=t(6219),m=t(3348);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j.apply(this,arguments)}const y=function(e){return o.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 48 48"},viewBox:"0 0 48 48"},e),d||(d=o.createElement("style",null,".upload_svg__st1{fill:none;stroke:#303030;stroke-width:.7;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}")),v||(v=o.createElement("g",{id:"upload_svg__Icons"},o.createElement("path",{d:"M30.131 35.098H17.87a4.967 4.967 0 0 1-4.967-4.967V17.87a4.967 4.967 0 0 1 4.967-4.967H30.13a4.967 4.967 0 0 1 4.967 4.967V30.13a4.967 4.967 0 0 1-4.967 4.967zM24 20.147v7.706M20.147 24h7.706",className:"upload_svg__st1"}))))};var w=function(){return w=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},w.apply(this,arguments)};const O=function(e){var n=e.accept,t=void 0===n?"":n,a=e.onChange,l=e.file,i=(0,o.useState)(l),s=i[0],c=i[1],u=(0,o.useRef)(null);return(0,o.useEffect)((function(){c(l)}),[l]),(0,r.jsxs)("div",w({className:"relative flex justify-center items-center h-[280px] bg-gray-light rounded-md overflow-hidden"},{children:[s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:"w-full h-full",src:URL.createObjectURL(s)}),(0,r.jsx)("button",w({type:"button",className:"absolute top-2 right-2 z-10 btn btn-error btn-sm",onClick:function(){u.current&&(u.current.value="",a(null))}},{children:(0,r.jsx)(m.Z,{className:"w-[24px] h-[24px]"})}))]}):(0,r.jsx)(y,{className:"w-[128px] h-[128px]"}),(0,r.jsx)("input",{ref:u,accept:t,onChange:function(e){var n,t,r,o;a(null!==(t=null===(n=e.target.files)||void 0===n?void 0:n[0])&&void 0!==t?t:null),c(null!==(o=null===(r=e.target.files)||void 0===r?void 0:r[0])&&void 0!==o?o:null)},type:"file",className:"absolute top-0 bottom-0 right-0 left-0 opacity-0"})]}))};var C=t(6310),N=t(1850),k=C.Ry().shape({title:C.Z_().required("Заполните название поста"),description:C.Z_().required("Заполните контентную часть поста"),readTime:C.Rx().required("Заполните время чтения поста").test("Digits only","Вы не можете ввести меньше 1 минуты",(function(e){return(0,N.Hc)(null==e?void 0:e.toString())})).min(1,"Вы не можете ввести меньше 1 минуты").max(60,"Вы не можете ввести больше 60 минут"),category:C.Rx().required("Выберите категорию")}),E=t(8415);const S=(0,o.memo)((function(e){var n=e.control,t=e.error;return(0,r.jsx)(g.Qr,{render:function(e){var n=e.field,o=n.value,a=n.onChange;return(0,r.jsx)(E.Z,{type:"number",value:o.toString(),onChangeInput:function(e){return a(+e)},errorMessage:t,isError:!!t,label:"Время чтения в минутах"})},name:"readTime",control:n,defaultValue:1})})),P=(0,o.memo)((function(e){var n=e.control,t=e.error;return(0,r.jsx)(g.Qr,{render:function(e){var n=e.field,o=n.value,a=n.onChange;return(0,r.jsx)(E.Z,{value:o,onChangeInput:a,errorMessage:t,isError:!!t,label:"Название"})},name:"title",control:n,defaultValue:""})}));var _=t(5998),T=function(){return T=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},T.apply(this,arguments)};const L=function(e){var n=e.value,t=void 0===n?"":n,a=e.onChange,l=e.options,i=e.label,s=e.isError,c=void 0!==s&&s,u=e.errorMessage,f=(0,o.useState)(""),p=f[0],d=f[1],v=l.map((function(e){var n=e.id,t=e.title,o=e.isDisabled,a=void 0!==o&&o;return(0,r.jsx)("option",T({value:n,disabled:a},{children:t}),n)}));return(0,o.useEffect)((function(){var e,n;d(null!==(n=t||(null===(e=l[0])||void 0===e?void 0:e.id))&&void 0!==n?n:"")}),[t,l]),(0,r.jsxs)("div",T({className:"form-control w-full"},{children:[i&&(0,r.jsx)("label",T({className:"label"},{children:(0,r.jsx)("span",T({className:"label-text"},{children:i}))})),(0,r.jsx)("select",T({value:p,onChange:function(e){var n=e.target.value;a&&a(n)},className:"select select-bordered ".concat(c?"select-error":"")},{children:v})),c&&u&&(0,r.jsx)("label",T({className:"label"},{children:(0,r.jsx)("span",T({className:"label-text-alt text-error"},{children:u}))}))]}))},M=(0,o.memo)((function(e){var n,t,o=e.control,l=e.error,i=(0,_.v9)(a.dg);return(0,r.jsx)(g.Qr,{render:function(e){var n=e.field,t=n.value,o=n.onChange;return(0,r.jsx)(L,{value:null==t?void 0:t.toString(),onChange:function(e){return o(+e)},errorMessage:l,isError:!!l,options:i,label:"Категория"})},name:"category",control:o,defaultValue:null!==(t=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n.id)&&void 0!==t?t:1})}));var G=function(){return G=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},G.apply(this,arguments)};const V=function(e){var n=e.value,t=void 0===n?"":n,a=e.onChange,l=e.label,i=e.placeholder,s=void 0===i?"":i,c=e.isDisabled,u=void 0!==c&&c,f=e.isError,p=void 0!==f&&f,d=e.errorMessage,v=(0,o.useState)(t),h=v[0],b=v[1];return(0,o.useEffect)((function(){b(t)}),[t]),(0,r.jsxs)("div",G({className:"form-control w-full"},{children:[(0,r.jsx)("label",G({className:"label"},{children:l&&(0,r.jsx)("span",G({className:"label-text"},{children:l}))})),(0,r.jsx)("textarea",{value:h,disabled:u,onChange:function(e){var n=e.target.value;a&&a(n)},placeholder:s,className:"textarea textarea-bordered h-24 ".concat(p?"textarea-error":"")}),(0,r.jsx)("label",G({className:"label"},{children:p&&d&&(0,r.jsx)("span",G({className:"label-text-alt text-error"},{children:d}))}))]}))},D=(0,o.memo)((function(e){var n=e.control,t=e.error;return(0,r.jsx)(g.Qr,{render:function(e){var n=e.field,o=n.value,a=n.onChange;return(0,r.jsx)(V,{value:o,onChange:a,errorMessage:t,isError:!!t,label:"Описание"})},name:"description",control:n,defaultValue:""})}));var Z=function(){return Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Z.apply(this,arguments)};const F=function(e){var n,t,a,l,i,s,c,u,f=e.isLoading,p=e.isOpen,d=e.onSubmit,v=e.defaultValue,h=(0,o.useState)(null),m=h[0],j=h[1],y=(0,g.cI)({resolver:(0,b.X)(k),defaultValues:null!=v?v:{}}),w=y.handleSubmit,C=y.control,N=y.reset,E=y.formState.errors;return(0,o.useEffect)((function(){var e;N(null!=v?v:{}),j(null!==(e=null==v?void 0:v.image)&&void 0!==e?e:null)}),[p]),(0,r.jsx)(x.Z,Z({onSubmit:w((function(e){d(Z(Z({},e),{image:m}))})),submitTitle:"Cохранить",isLoading:f},{children:(0,r.jsxs)("div",Z({className:"flex flex-col gap-1 w-full"},{children:[(0,r.jsx)(O,{file:m,accept:".svg,.png,.jpg",onChange:function(e){j(e)}}),(0,r.jsx)(M,{control:C,error:(null!==(t=null===(n=E.category)||void 0===n?void 0:n.message)&&void 0!==t?t:"").toString()}),(0,r.jsx)(S,{control:C,error:(null!==(l=null===(a=E.readTime)||void 0===a?void 0:a.message)&&void 0!==l?l:"").toString()}),(0,r.jsx)(P,{control:C,error:(null!==(s=null===(i=E.title)||void 0===i?void 0:i.message)&&void 0!==s?s:"").toString()}),(0,r.jsx)(D,{control:C,error:(null!==(u=null===(c=E.description)||void 0===c?void 0:c.message)&&void 0!==u?u:"").toString()})]}))}))};var I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},I.apply(this,arguments)};const R=function(e){var n=e.title,t=e.isOpen,o=e.onClose,a=e.children;return(0,r.jsx)("div",I({className:"modal ".concat(t?"modal-open":""," z-[10000]")},{children:(0,r.jsxs)("div",I({className:"modal-box"},{children:[(0,r.jsx)("h3",I({className:"mb-10 text-lg font-bold"},{children:n})),(0,r.jsx)("button",I({className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:o},{children:"✕"})),a]}))}))};var q=function(){return q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},q.apply(this,arguments)};const H=function(e){var n=e.isOpen,t=e.onClose,l=(0,i.TL)(),s=(0,o.useState)(!1),c=s[0],u=s[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(R,q({title:"Создание поста",isOpen:n,onClose:t},{children:(0,r.jsx)(F,{isLoading:c,isOpen:n,onSubmit:function(e){return n=this,r=void 0,i=function(){return function(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return u(!0),[4,l((0,a.IV)({post:e,cb:t}))];case 1:return n.sent(),u(!1),[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{s(i.next(e))}catch(e){t(e)}}function l(e){try{s(i.throw(e))}catch(e){t(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,l)}s((i=i.apply(n,r||[])).next())}));var n,r,o,i}})}))})};var Q;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},z.apply(this,arguments)}const B=function(e){return o.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"add_svg__feather add_svg__feather-plus"},e),Q||(Q=o.createElement("path",{d:"M12 5v14M5 12h14"})))};var J=function(){return J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},J.apply(this,arguments)};const A=function(){var e=(0,i.CG)(h.Jt),n=(0,o.useState)(!1),t=n[0],a=n[1];return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",J({className:"btn w-max self-center",onClick:function(){a(!0)}},{children:[(0,r.jsx)(B,{className:"w-[24px] h-[24px]"}),"Создать пост"]})),(0,r.jsx)(H,{isOpen:t,onClose:function(){a(!1)}})]}):null};var U=t(4742),X=t(3017),$=t(307),W=function(){return W=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},W.apply(this,arguments)};const K=function(e){var n=e.isOpen,t=e.onClose,l=e.post,s=(0,i.TL)(),c=(0,o.useState)(!1),u=c[0],f=c[1];return(0,r.jsx)(R,W({title:"Редактирование поста",isOpen:n,onClose:t},{children:(0,r.jsx)(F,{isLoading:u,isOpen:n,defaultValue:l,onSubmit:function(e){return n=this,r=void 0,l=function(){return function(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return f(!0),[4,s((0,a.i1)({post:e,cb:t}))];case 1:return n.sent(),f(!1),[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,i)}s((l=l.apply(n,r||[])).next())}));var n,r,o,l}})}))},Y=(0,o.memo)((function(e){var n=e.item,t=e.onEdit,o=e.onDelete,l=(0,i.CG)((function(e){return(0,a.oB)(e,n.id)}));return(0,r.jsx)(a.y4,{isLoading:l,onDelete:o,onEdit:function(e){return t(e)},post:n})}));var ee=function(){return ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ee.apply(this,arguments)};const ne=function(){var e=(0,i.TL)(),n=(0,i.CG)(a.Xe),t=(0,i.CG)(a.HO),c=(0,o.useState)({isOpen:!1,post:null}),u=c[0],f=c[1],p=(0,o.useCallback)((function(e){f({isOpen:!0,post:e})}),[]),d=(0,o.useCallback)((function(n){e((0,a.ts)(n))}),[]),v=n.map((function(e){return(0,r.jsx)(Y,{item:e,onDelete:d,onEdit:p},e.id)}));return t===l.J.PENDING?(0,r.jsx)(s.a,{}):(0,r.jsxs)(r.Fragment,{children:[n.length?(0,r.jsx)("ul",ee({className:"flex flex-col gap-7"},{children:v})):(0,r.jsx)("div",ee({className:"flex justify-center"},{children:(0,r.jsx)("p",{children:"Посты не найдены :("})})),u.post&&(0,r.jsx)(K,{onClose:function(){f({isOpen:!1,post:null})},isOpen:u.isOpen,post:u.post})]})};var te=function(){return te=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},te.apply(this,arguments)};const re=function(){var e=(0,i.TL)();return(0,o.useEffect)((function(){e((0,a.a$)()),e((0,a.pE)()),e((0,a.T6)())}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($.Z,{title:X.T[U.Z.news],description:"<p>Узнайте все о криптовалюте, NFT и блокчейнах. <br> Изучите наши последние обновления и истории пользователей</p>"}),(0,r.jsxs)("div",te({className:"flex flex-col gap-10"},{children:[(0,r.jsx)(p,{}),(0,r.jsx)(A,{})]})),(0,r.jsx)(ne,{})]})}}}]);